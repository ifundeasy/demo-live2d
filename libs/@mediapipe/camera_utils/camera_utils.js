(function(){"use strict";function t(t){var n=0;return function(){return n<t.length?{done:!1,value:t[n++]}:{done:!0}}}var n="function"==typeof Object.defineProperties?Object.defineProperty:function(t,n,e){return t==Array.prototype||t==Object.prototype||(t[n]=e.value),t},e=function(t){t=["object"==typeof globalThis&&globalThis,t,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var n=0;n<t.length;++n){var e=t[n];if(e&&e.Math==Math)return e}throw Error("Cannot find global object")}(this);function r(t,r){if(r)t:{var i=e;t=t.split(".");for(var o=0;o<t.length-1;o++){var u=t[o];if(!(u in i))break t;i=i[u]}(r=r(o=i[t=t[t.length-1]]))!=o&&null!=r&&n(i,t,{configurable:!0,writable:!0,value:r})}}function i(t){return(t={next:t})[Symbol.iterator]=function(){return this},t}function o(n){var e="undefined"!=typeof Symbol&&Symbol.iterator&&n[Symbol.iterator];return e?e.call(n):{next:t(n)}}function u(){this.i=!1,this.g=null,this.o=void 0,this.j=1,this.m=0,this.h=null}function c(t){if(t.i)throw new TypeError("Generator is already running");t.i=!0}function a(t,n){t.h={F:n,G:!0},t.j=t.m}function s(t){this.g=new u,this.h=t}function h(t,n,e,r){try{var i=n.call(t.g.g,e);if(!(i instanceof Object))throw new TypeError("Iterator result "+i+" is not an object");if(!i.done)return t.g.i=!1,i;var o=i.value}catch(n){return t.g.g=null,a(t.g,n),f(t)}return t.g.g=null,r.call(t.g,o),f(t)}function f(t){for(;t.g.j;)try{var n=t.h(t.g);if(n)return t.g.i=!1,{value:n.value,done:!1}}catch(n){t.g.o=void 0,a(t.g,n)}if(t.g.i=!1,t.g.h){if(n=t.g.h,t.g.h=null,n.G)throw n.F;return{value:n.return,done:!0}}return{value:void 0,done:!0}}function l(t){this.next=function(n){return c(t.g),t.g.g?n=h(t,t.g.g.next,n,t.g.l):(t.g.l(n),n=f(t)),n},this.throw=function(n){return c(t.g),t.g.g?n=h(t,t.g.g.throw,n,t.g.l):(a(t.g,n),n=f(t)),n},this.return=function(n){return function(t,n){c(t.g);var e=t.g.g;return e?h(t,"return"in e?e.return:function(t){return{value:t,done:!0}},n,t.g.return):(t.g.return(n),f(t))}(t,n)},this[Symbol.iterator]=function(){return this}}function v(t){function n(n){return t.next(n)}function e(n){return t.throw(n)}return new Promise((function(r,i){!function t(o){o.done?r(o.value):Promise.resolve(o.value).then(n,e).then(t,i)}(t.next())}))}r("Symbol",(function(t){function e(t,e){this.g=t,n(this,"description",{configurable:!0,writable:!0,value:e})}if(t)return t;e.prototype.toString=function(){return this.g};var r="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",i=0;return function t(n){if(this instanceof t)throw new TypeError("Symbol is not a constructor");return new e(r+(n||"")+"_"+i++,n)}})),r("Symbol.iterator",(function(r){if(r)return r;r=Symbol("Symbol.iterator");for(var o="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),u=0;u<o.length;u++){var c=e[o[u]];"function"==typeof c&&"function"!=typeof c.prototype[r]&&n(c.prototype,r,{configurable:!0,writable:!0,value:function(){return i(t(this))}})}return r})),u.prototype.l=function(t){this.o=t},u.prototype.return=function(t){this.h={return:t},this.j=this.m},r("Promise",(function(t){function n(t){this.h=0,this.i=void 0,this.g=[],this.o=!1;var n=this.j();try{t(n.resolve,n.reject)}catch(t){n.reject(t)}}function r(){this.g=null}function i(t){return t instanceof n?t:new n((function(n){n(t)}))}if(t)return t;r.prototype.h=function(t){if(null==this.g){this.g=[];var n=this;this.i((function(){n.l()}))}this.g.push(t)};var u=e.setTimeout;r.prototype.i=function(t){u(t,0)},r.prototype.l=function(){for(;this.g&&this.g.length;){var t=this.g;this.g=[];for(var n=0;n<t.length;++n){var e=t[n];t[n]=null;try{e()}catch(t){this.j(t)}}}this.g=null},r.prototype.j=function(t){this.i((function(){throw t}))},n.prototype.j=function(){function t(t){return function(r){e||(e=!0,t.call(n,r))}}var n=this,e=!1;return{resolve:t(this.A),reject:t(this.l)}},n.prototype.A=function(t){if(t===this)this.l(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof n)this.C(t);else{t:switch(typeof t){case"object":var e=null!=t;break t;case"function":e=!0;break t;default:e=!1}e?this.v(t):this.m(t)}},n.prototype.v=function(t){var n=void 0;try{n=t.then}catch(t){return void this.l(t)}"function"==typeof n?this.D(n,t):this.m(t)},n.prototype.l=function(t){this.u(2,t)},n.prototype.m=function(t){this.u(1,t)},n.prototype.u=function(t,n){if(0!=this.h)throw Error("Cannot settle("+t+", "+n+"): Promise already settled in state"+this.h);this.h=t,this.i=n,2===this.h&&this.B(),this.H()},n.prototype.B=function(){var t=this;u((function(){if(t.I()){var n=e.console;void 0!==n&&n.error(t.i)}}),1)},n.prototype.I=function(){if(this.o)return!1;var t=e.CustomEvent,n=e.Event,r=e.dispatchEvent;return void 0===r||("function"==typeof t?t=new t("unhandledrejection",{cancelable:!0}):"function"==typeof n?t=new n("unhandledrejection",{cancelable:!0}):(t=e.document.createEvent("CustomEvent")).initCustomEvent("unhandledrejection",!1,!0,t),t.promise=this,t.reason=this.i,r(t))},n.prototype.H=function(){if(null!=this.g){for(var t=0;t<this.g.length;++t)c.h(this.g[t]);this.g=null}};var c=new r;return n.prototype.C=function(t){var n=this.j();t.s(n.resolve,n.reject)},n.prototype.D=function(t,n){var e=this.j();try{t.call(n,e.resolve,e.reject)}catch(t){e.reject(t)}},n.prototype.then=function(t,e){function r(t,n){return"function"==typeof t?function(n){try{i(t(n))}catch(t){o(t)}}:n}var i,o,u=new n((function(t,n){i=t,o=n}));return this.s(r(t,i),r(e,o)),u},n.prototype.catch=function(t){return this.then(void 0,t)},n.prototype.s=function(t,n){function e(){switch(r.h){case 1:t(r.i);break;case 2:n(r.i);break;default:throw Error("Unexpected state: "+r.h)}}var r=this;null==this.g?c.h(e):this.g.push(e),this.o=!0},n.resolve=i,n.reject=function(t){return new n((function(n,e){e(t)}))},n.race=function(t){return new n((function(n,e){for(var r=o(t),u=r.next();!u.done;u=r.next())i(u.value).s(n,e)}))},n.all=function(t){var e=o(t),r=e.next();return r.done?i([]):new n((function(t,n){function o(n){return function(e){u[n]=e,0==--c&&t(u)}}var u=[],c=0;do{u.push(void 0),c++,i(r.value).s(o(u.length-1),n),r=e.next()}while(!r.done)}))},n}));var g="function"==typeof Object.assign?Object.assign:function(t,n){for(var e=1;e<arguments.length;e++){var r=arguments[e];if(r)for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t};r("Object.assign",(function(t){return t||g}));var p=this||self,y={facingMode:"user",width:640,height:480};function d(t,n){this.video=t,this.i=0,this.h=Object.assign(Object.assign({},y),n)}function b(t){window.requestAnimationFrame((function(){!function(t){var n=null;t.video.paused||t.video.currentTime===t.i||(t.i=t.video.currentTime,n=t.h.onFrame()),n?n.then((function(){b(t)})):b(t)}(t)}))}d.prototype.stop=function(){var t,n,e,r=this;return v(new l(new s((function(i){if(r.g){for(t=r.g.getTracks(),n=o(t),e=n.next();!e.done;e=n.next())e.value.stop();r.g=void 0}i.j=0}))))},d.prototype.start=function(){var t,n=this;return v(new l(new s((function(e){return navigator.mediaDevices&&navigator.mediaDevices.getUserMedia||alert("No navigator.mediaDevices.getUserMedia exists."),t=n.h,e.return(navigator.mediaDevices.getUserMedia({video:{facingMode:t.facingMode,width:t.width,height:t.height}}).then((function(t){!function(t,n){t.g=n,t.video.srcObject=n,t.video.onloadedmetadata=function(){t.video.play(),b(t)}}(n,t)})).catch((function(t){var n="Failed to acquire camera feed: "+t;throw console.error(n),alert(n),t})))}))))};var w,m=["Camera"],j=p;m[0]in j||void 0===j.execScript||j.execScript("var "+m[0]);for(;m.length&&(w=m.shift());)m.length||void 0===d?j=j[w]&&j[w]!==Object.prototype[w]?j[w]:j[w]={}:j[w]=d}).call(this);